{% extends 'blog/base.html' %} {% load static %} {% block title %}Blog Posts{%
endblock %} {% block content %}
<div class="header-section">
  <h1>Latest Blog Posts</h1>
  {% if user.is_authenticated %}
  <a href="{% url 'post_create' %}" class="btn">Create New Post</a>
  {% endif %}
</div>

<div class="post-list">
  {% for post in posts %}
  <div class="post-card">
    <h2><a href="{% url 'post_detail' pk=post.pk %}">{{ post.title }}</a></h2>
    <div class="meta">
      <span>By {{ post.author.username }}</span> |
      <span>{{ post.published_date|date:"F d, Y" }}</span>
    </div>
    <p class="excerpt">{{ post.content|truncatewords:50 }}</p>
    <a href="{% url 'post_detail' pk=post.pk %}" class="btn">Read More</a>
    {% if user == post.author %}
    <a href="{% url 'post_edit' pk=post.pk %}" class="btn">Edit</a>
    <a href="{% url 'post_delete' pk=post.pk %}" class="btn btn-danger"
      >Delete</a
    >
    {% endif %}
  </div>
  {% empty %}
  <p>No posts yet. Be the first to create one!</p>
  {% endfor %}
</div>
{% endblock %}
