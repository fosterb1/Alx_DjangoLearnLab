{% extends 'blog/base.html' %}

{% block title %}
{% if form.instance.pk %}Edit Post{% else %}Create New Post{% endif %} - Django Blog
{% endblock %}

{% block content %}
<div class="post-form-container">
  <div class="form-card">
    <h2>
      {% if form.instance.pk %}
      <i class="fas fa-edit"></i> Edit Post {% else %}
      <i class="fas fa-plus"></i> Create New Post {% endif %}
    </h2>

    <form method="post" class="post-form">
      {% csrf_token %}

      <div class="form-group">
        <label for="{{ form.title.id_for_label }}">Title</label>
        {{ form.title }} {% if form.title.errors %}
        <div class="error-list">
          {% for error in form.title.errors %}
          <span class="error"
            ><i class="fas fa-exclamation-circle"></i> {{ error }}</span
          >
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="{{ form.content.id_for_label }}">Content</label>
        {{ form.content }} {% if form.content.errors %}
        <div class="error-list">
          {% for error in form.content.errors %}
          <span class="error"
            ><i class="fas fa-exclamation-circle"></i> {{ error }}</span
          >
          {% endfor %}
        </div>
        {% endif %}
        <small class="help-text">
          <i class="fas fa-info-circle"></i> Write your post content using
          Markdown or plain text.
        </small>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">
          {% if form.instance.pk %}
          <i class="fas fa-save"></i> Update Post {% else %}
          <i class="fas fa-paper-plane"></i> Publish Post {% endif %}
        </button>

        {% if form.instance.pk %}
        <a
          href="{% url 'post_detail' pk=form.instance.pk %}"
          class="btn btn-secondary"
        >
          <i class="fas fa-times"></i> Cancel
        </a>
        {% else %}
        <a href="{% url 'post_list' %}" class="btn btn-secondary">
          <i class="fas fa-times"></i> Cancel
        </a>
        {% endif %}
      </div>
    </form>

    <div class="form-tips">
      <h4><i class="fas fa-lightbulb"></i> Writing Tips</h4>
      <ul>
        <li>Keep your title clear and descriptive</li>
        <li>Use paragraphs to break up long content</li>
        <li>Add images and code snippets to enhance your post</li>
        <li>Proofread before publishing</li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
